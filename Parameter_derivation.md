# Derivation of Parameters

![](https://courses.edx.org/assets/courseware/v1/6cdb6fb89f30026f9e3157be354c34a4/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/on_scale.jpg)

We approximated the moment of inertia of the propeller Jm as that of a flat rod rotating around its center. This moment is expressed using this equation:
                                                          Jm=112m(l2+w2)
In the case of our propeller it works out to be:
                                          Jm=112⋅0.003kg⋅(0.132+0.0152)≈3×10−6 kg⋅m2
We approximated the moment of inertia of our arm assembly as that of a narrow rod on an axis and a point mass summed together. Therefore:
                                              Ja≈Jrod+Jpm=13marml2arm+mpropl2arm
Based on our measurements we got a value of about Ja=4.5×10−4kg⋅m2

---

## Thrust Coefficient

We first mounted the propeller assembly on a scale and zeroed the weight when it was not running like shown below. We then proceeded to gradually increase the voltage applied to the motor while tracking the current through the motor as well as the change in sensed mass on the scale.

![Thrust](https://courses.edx.org/assets/courseware/v1/b6c9dd457c41f78ed57c4250821fb776/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/back_emf_numbers.png)

We could use the readings from the scale to extract measurements of thrust based on voltage, current, and ultimately back EMF. For example, if the scale began reading "-2.5g" that would correspond to an equivalent force of 0.0025 kg⋅9.81m⋅s−2=0.02454N.

---

## Motor Coil Resistance
The motor's electrical resistance Rm was measured in two ways. First we just took an Ohmmeter and attached read the resistance. Additionally, we found a slightly different value by incorporating the motor into a circuit with a number of other low-value fixed resistors, and then by measuring the voltage drop across parts of the circuit could back out a value of approximately Rm≈0.5Ω.

---

## Motor Speed and Back EMF

The Back EMF of the motor was relatively easy to calculate once we had a resistor value Rm to work with. What was trickier to do was determine the back EMF coefficient Ke. For that we need to know the motor's angular velocity ωm as a function of current or voltage or something and we figured that out by building a cheap phototransistor-based (Digikey part number 1080-1152-ND in case you're interested) optical sense-circuit placed immediately below the propeller while it was running. By monitoring the output of this simple circuit on an oscilloscope we could use the deviation in signal (generated by room light being "chopped" by the rapidly passing propeller blade) to get real time measurements of the motor speed.

![System](https://courses.edx.org/assets/courseware/v1/770d62a61958d50529579d98d89e64c1/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/phototransistor_circuit.png)

And the output signal in real-time looked something like this. Note we weren't concerned so much with the amplitude of our signal here, instead just the periodicity of the deviations (two "blips" per revolution...one for each blade).

---

With data collected we could start coming up with relationships between parameters measured. We found the relationship between the motor voltage and the current through the motor to be roughly quadratic in shape (data points are yellow dots and fitted curve is black dashed line):

![](https://courses.edx.org/assets/courseware/v1/ff0156f2c68c49776db66b1c9bb034ba/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/v_vs_i.png)

in particular, current as a function of applied voltage was found to be:
                                                                i(v)=0.071v2+0.19v+0.01619
where i is in Amps and v is in volts. (Note these readings were in steady state).
Since we already had a rough idea of the coil resistance (Rm≈0.5Ω), we could use this curve to come up with an expression for the back EMF as a function of applied voltage by saying (review our simplified motor model from week 1):
                                                                            vemf=vm−i(vm)0.5
When we plot our fitted function using this modifiation we end up with the following new fitted equation:

![](https://courses.edx.org/assets/courseware/v1/9ecac2a85bd0ebeae5fad21024672fcf/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/v_back_emf_on_y.png)

Which fits very nicely to a first order expresion:
                                                                            vemf(v)≈0.91v−0.0081
So this is saying that back EMF is roughly linearly proportional to voltage applied to the motor.
Now we need to figure out if our relationship between back EMF and propeller speed ωm is linear. To do this we can plot data points of calculated back EMF (figured out above) for a given voltage compared to measured propeller speed for that same given voltage. When we do this we get the following plot (data in yellow, fitted curve in black dashed):

![](https://courses.edx.org/assets/courseware/v1/8386b0e1e2eae25609d4a0cd35fffb5d/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/emf_prop_speed.png)

And when we fit those yellow data points to a first order function we get the following:
                                                                          vemf(ωm)≈0.0053ωm−0.09381
Ignoring the offset this is saying:
                                                                              vemf=0.0053ωm
and since vemf=Keωm we can now say that Ke≈0.0053V⋅rad⋅s−1!
We also made the assumption that the back emf coefficient (Ke) is equal to the motor torque coefficient Km, which is often done for motors so Km=0.0053 as well!

The last critical term that we're missing is the relationship between motor speed ωm and the thrust generated by the propeller. We expect this thrust to be proportional to the square of our motor speed and when we plot those two values out we get the following set of data points (yellow):

![](https://courses.edx.org/assets/courseware/v1/abc15a0fa19d28d636f8b87ed108e4e8/asset-v1:MITx+6.302.1x+2T2016+type@asset+block/omega_x_f_y.png)

Fitting this to a second order function yields the following where force/thrust is in Newtons.
                                                                        f(ωm)=2.55×10−6ω2m+0.00025ωm+0.02035
This is very quadratic as we expected, and going back to our earlier model derivation in week 1, we're going to need to linearize around our usual point of operation to turn this into something that we can fit into our LTI (Linear Time-Invariant) model. If we linearize around when ωm≈300rad⋅s−1 we'll get:
                                                                      ddωmf(ωm)=5.1×10−6ωm+0.00025
Which is then:
                                                                        ddωmf(300)=1.780×10−3
With this number we can then say that the "deviation" in force around our operating point can be approximated with the expression:
                                                                              f[n]=1.780×10−3ωm[n]


**We have some parameters!**
